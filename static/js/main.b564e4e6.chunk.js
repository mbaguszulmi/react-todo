(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{40:function(t,o,e){},89:function(t,o,e){},90:function(t,o,e){"use strict";e.r(o);var n=e(10),a=e.n(n),r=(e(40),e(3)),i=e(0),d=e.n(i),c=e(15),s=e(8),u=e(33),l=e(4),p=function(t,o){for(var e=0;e<t.length;e++){if(t[e].id==o)return e}return-1},h=function(t){for(var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=0;e<t.length-1;e++){for(var n=e,a=e+1;a<t.length;a++){var r=t[n].createdAt,i=t[a].createdAt;o?i>r&&(n=a):i<r&&(n=a)}if(e!==n){var d=t[e];t[e]=t[n],t[n]=d}}return t},v=function(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=h(t,o);for(var e=[],n=0;n<t.length;n++){var a=t[n];a.status===(o?1:0)&&e.push(a)}return e},O=Object(s.c)({todo:function(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CREATE_TODO":void 0!==(t=o.todos)&&null!==t||(t=[]);var n=t.length+1;return t.push(Object(l.a)({id:n},e.data)),Object(l.a)(Object(l.a)({},o),{},{todos:t});case"UPDATE_TODO":t=o.todos;var a=p(t,e.data.id);return t[a]=e.data,Object(l.a)(Object(l.a)({},o),{},{todos:t});case"DELETE_TODO":t=o.todos;var r=p(t,e.data);return r>=0&&r<t.length&&t.splice(r,1),Object(l.a)(Object(l.a)({},o),{},{todos:t});case"LOAD_TODO_FROM_API":return Object(l.a)(Object(l.a)({},o),{},{isLoadingData:e.data});case"LOAD_TODOS":return Object(l.a)(Object(l.a)({},o),{},{todos:e.data});default:return o}},navigation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case"OPEN_MODAL":return Object(l.a)(Object(l.a)({},t),{},{openModal:o.data});default:return t}}});var f=e(24),j=e.n(f),b=e(34),g=e(13),m=e(14),T=e(17),y=e(16),D=(e(47),e(35)),x=e.n(D),C=e(6),_=(e(89),function(t){Object(T.a)(e,t);var o=Object(y.a)(e);function e(){return Object(g.a)(this,e),o.apply(this,arguments)}return Object(m.a)(e,[{key:"render",value:function(){var t;return Object(r.jsxs)("div",{className:"todo-item ".concat(this.props.completed?"completed":""," ").concat(null!==(t=this.props.className)&&void 0!==t?t:""),children:[Object(r.jsx)(C.Checkbox,{id:"item_".concat(this.props.todoId),checked:this.props.completed,value:"1","data-id":this.props.todoId,onChange:this.props.onCheckChanged}),Object(r.jsx)("div",{className:"todo-title","data-id":this.props.todoId,onClick:this.props.onTodoClick,children:this.props.todoTitle})]})}}]),e}(d.a.Component));Number.prototype.padLeft=function(t,o){var e=String(t||10).length-String(this).length+1;return e>0?new Array(e).join(o||"0")+this:this};var k=function(){var t=new Date;return[t.getFullYear(),(t.getMonth()+1).padLeft(),t.getDate().padLeft()].join("-")+" "+[t.getHours().padLeft(),t.getMinutes().padLeft()].join(":")},E=function(t){Object(T.a)(e,t);var o=Object(y.a)(e);function e(){return Object(g.a)(this,e),o.apply(this,arguments)}return Object(m.a)(e,[{key:"openModal",value:function(){document.querySelector("#main-modal").M_Modal.open()}},{key:"addNewItem",value:function(){this.props.openModal(0),this.openModal(),document.querySelector("#input_todo-title").value="",document.querySelector("#input_todo-details").value=""}},{key:"loadData",value:function(){var t=Object(b.a)(j.a.mark((function t(){var o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.props.loadTodoFromApi(!0),t.next=3,new Promise((function(t,o){fetch("https://virtserver.swaggerhub.com/hanabyan/todo/1.0.0/to-do-list",{method:"GET"}).then((function(t){return 200!==t.status&&o(new Error("Error: ".concat(t.status))),t.json()})).then((function(o){t(o)})).catch((function(t){o(new Error(t))}))})).catch((function(t){x.a.toast({html:"Error occured ".concat(t)}),console.error(t)}));case 3:o=t.sent,this.props.loadTodoFromApi(!1),this.props.loadTodos(o);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"loadCurrentTodo",value:function(t){var o;if(0!=t){var e=p(this.props.todo.todos,t);o=this.props.todo.todos[e]}return void 0!==o?o:{id:0,title:null,description:null,status:0,createdAt:k()}}},{key:"deleteTodo",value:function(t){var o=this;setTimeout((function(){o.props.deleteTodo(t)}),300)}},{key:"saveTodo",value:function(t){var o=p(this.props.todo.todos,t),e=this.props.todo.todos[o];e=Object(l.a)(Object(l.a)({},e),{},{title:document.querySelector("#input_todo-title").value,description:document.querySelector("#input_todo-details").value}),this.props.updateTodo(e)}},{key:"addTodo",value:function(){this.props.createTodo(document.querySelector("#input_todo-title").value,document.querySelector("#input_todo-details").value)}},{key:"unDoneTodo",value:function(t){var o=this;setTimeout((function(){var e=t.target.dataset.id;if(void 0!==e&&null!==e){var n=p(o.props.todo.todos,e),a=o.props.todo.todos[n];a.status=0,o.props.updateTodo(a),t.target.checked=!0,console.log(e)}}),300)}},{key:"doneTodo",value:function(t){var o=this;setTimeout((function(){var e=t.target.dataset.id;if(void 0!==e&&null!==e){var n=p(o.props.todo.todos,e),a=o.props.todo.todos[n];a.status=1,o.props.updateTodo(a),t.target.checked=!1,console.log(e)}}),300)}},{key:"editTodo",value:function(t){var o=t.target.dataset.id;this.props.openModal(o),this.openModal();var e=this.loadCurrentTodo(o);document.querySelector("#input_todo-title").value=e.title,document.querySelector("#input_todo-details").value=e.description}},{key:"componentDidMount",value:function(){this.loadData(),document.querySelector("#main-fab").onClick=function(){console.log("OK")}}},{key:"render",value:function(){var t=this;return Object(r.jsxs)("div",{children:[Object(r.jsx)(C.Navbar,{className:"nav indigo darken-4",centerChildren:!0,centerLogo:!0,alignLinks:"right",brand:Object(r.jsx)("a",{className:"brand-logo",href:"#",children:"React TODO"}),menuIcon:Object(r.jsx)(C.Icon,{children:"menu"}),options:{draggable:!0,edge:"left",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:200,preventScrolling:!0}}),Object(r.jsx)("div",{className:"container content",children:Object(r.jsxs)("div",{className:"row todo-grid",children:[Object(r.jsxs)("div",{className:"col s12 m6",children:[Object(r.jsx)("h4",{children:"To-do"}),Object(r.jsx)("div",{id:"todo-list",children:v(this.props.todo.todos,!1).map((function(o,e){return Object(r.jsx)(_,{onCheckChanged:function(o){return t.doneTodo(o)},onTodoClick:function(o){return t.editTodo(o)},completed:!1,todoId:o.id,todoTitle:o.title},o.id)}))})]}),Object(r.jsxs)("div",{className:"col s12 m6",children:[Object(r.jsx)("h4",{children:"Completed"}),Object(r.jsx)("div",{id:"completed-list",children:v(this.props.todo.todos,!0).map((function(o,e){return Object(r.jsx)(_,{onCheckChanged:function(o){return t.unDoneTodo(o)},onTodoClick:function(o){return t.editTodo(o)},completed:!0,todoId:o.id,todoTitle:o.title},o.id)}))})]})]})}),Object(r.jsx)(C.Button,{id:"main-fab",className:"red",floating:!0,icon:Object(r.jsx)(C.Icon,{children:"add"}),large:!0,node:"button",waves:"light",fab:"true",onClick:function(){return t.addNewItem()}}),Object(r.jsx)(C.Modal,{actions:[Object(r.jsx)(C.Button,{flat:!0,modal:"close",node:"button",waves:"green",children:"Cancel"}),Object(r.jsx)(C.Button,{id:"save-btn",onClick:function(o){return 0!=t.props.navigation.openModal?t.saveTodo(t.props.navigation.openModal):t.addTodo()},modal:"close",node:"button",waves:"green",children:"Save"}),Object(r.jsx)(C.Button,{id:"delete-btn",modal:"close",onClick:function(o){return t.deleteTodo(t.props.navigation.openModal)},style:0!=this.loadCurrentTodo(this.props.navigation.openModal).status||0==this.loadCurrentTodo(this.props.navigation.openModal).id?{display:"none"}:{},className:"red",node:"button",waves:"light",children:"Delete"})],confirm:"Are you sure?",bottomSheet:!1,fixedFooter:!0,header:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col s8",children:Object(r.jsx)(C.TextInput,{disabled:!1,id:"input_todo-title",label:"Title"})}),Object(r.jsx)("div",{id:"date-todo",className:"col s4",children:this.loadCurrentTodo(this.props.navigation.openModal).createdAt})]}),id:"main-modal",open:!1,options:{dismissible:!0,endingTop:"10%",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"4%"},children:Object(r.jsx)(C.Textarea,{disabled:!1,id:"input_todo-details",label:"Describe this todo item..."})})]})}}]),e}(d.a.Component),S=Object(c.b)((function(t){return Object(l.a)({},t)}),(function(t){return{createTodo:function(o,e){return t(function(t,o){return function(e){e({type:"CREATE_TODO",data:{title:t,description:o,status:0,createdAt:k()}})}}(o,e))},deleteTodo:function(o){return t(function(t){return function(o){o({type:"DELETE_TODO",data:t})}}(o))},loadTodoFromApi:function(o){return t(function(t){return function(o){o({type:"LOAD_TODO_FROM_API",data:t})}}(o))},loadTodos:function(o){return t(function(t){return function(o){o({type:"LOAD_TODOS",data:t})}}(o))},updateTodo:function(o){return t(function(t){return function(o){o({type:"UPDATE_TODO",data:t})}}(o))},openModal:function(o){return t(function(t){return function(o){o({type:"OPEN_MODAL",data:t})}}(o))}}}))(E),M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{todo:{todos:[],isLoadingData:!1},navigation:{openModal:!1}},o=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d;return Object(s.e)(O,t,o(Object(s.a)(u.a)))}(),w=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,91)).then((function(o){var e=o.getCLS,n=o.getFID,a=o.getFCP,r=o.getLCP,i=o.getTTFB;e(t),n(t),a(t),r(t),i(t)}))};a.a.render(Object(r.jsx)(c.a,{store:M,children:Object(r.jsx)(d.a.StrictMode,{children:Object(r.jsx)(S,{})})}),document.getElementById("root")),w()}},[[90,1,2]]]);
//# sourceMappingURL=main.b564e4e6.chunk.js.map